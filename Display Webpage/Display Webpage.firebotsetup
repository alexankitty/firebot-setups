{"name":"Display Webpage","description":"# Firebot Webpage Display\nBy Alexankitty  \nGives a simple MixItUp style option to display a webpage in the overlay.  \n\n## Options\n**URL**: Specifies the URL of a webpage to load  \n**URLParams**: Specifies the URL parameters (everything after the ?)  \n**Width**: Width of the frame  \n**Height**: Height of the frame  \n**Anchor**: Side of the overlay to anchor the html page to  \n**X**: X Position  \n**Y**: Y position  \n**Duration**: How long in seconds it will display for.  \n\n## For anchors use the following:\nTop Bottom Middle for vertical (Y axis) position  \nLeft Right Center for Horizontal (X axis) position  \n  \nEx: topright for the topright corner of the screen  \nEx: middlecenter for the middle of the screen  \n  \nCenter positioning is based on top left positioning. Use a negative value to position in the opposite direction.  \nHeight, Width, X, and Y values all accept CSS Units, or if none are present are assumed to be px.  \n  \nFeatures random instantiation and cleanup. Won't conflict or alter already running displayed webpages.","version":1,"author":"alexankitty","components":{"commands":[],"counters":[],"currencies":[],"effectQueues":[],"events":[],"eventGroups":[],"hotkeys":[],"presetEffectLists":[{"name":"Display Webpage","effects":{"list":[{"id":"2d0a3650-4ec2-11ee-ab05-6bef8d8a3fa5","type":"firebot:customvariable","active":true,"ttl":0,"name":"webId","variableData":"$randomNumber[0, 999999]"},{"id":"1f8c1350-4ea8-11ee-ab05-6bef8d8a3fa5","type":"firebot:html","active":true,"enterAnimation":"none","exitAnimation":"none","inbetweenAnimation":"none","html":"<div id=\"container\" style=\"height: 100%;width: 100%\" class=\"frame$customVariable[webId]\">\n    <iframe title=\"overlay\" id=\"htmlframe$customVariable[webId]\" src=\"$encodeForHtml[$presetListArg[URL]]?$encodeForHtml[$presetListArg[URLParams]]\" height=\"$encodeForHtml[$presetListArg[Height]]\" width=\"$encodeForHtml[$presetListArg[Width]]\" style=\"position: absolute;\" frameBorder=\"0\"></iframe>\n    <script type=\"text/javascript\">\n        const removeEmptyLines = str => str.split(/\\r?\\n/).filter(line => line.trim() !== '').join('\\n');\n        const cssCheck = str => [\"cm\", \"mm\", \"in\", \"px\", \"pt\", \"pc\", \"em\", \"ex\", \"ch\", \"rem\", \"vw\", \"vh\", \"vmin\", \"vmax\", \"%\"].reduce((a,c) => a + str.includes(c), 0) == 1;\n        function setFrameStyles(x, y, anchor, width, height) {\n            let htmlframe = document.getElementById(\"container\");\n            let frame = document.getElementById(\"htmlframe$customVariable[webId]\")\n            let centerAdj = (width / 2) - (x / 2)\n            let middleAdj = (height / 2) - (y / 2)\n            if (x == \"\") x = 0\n            if (y == \"\") y = 0\n            if (width == \"\") width = 300\n            if (height == \"\") height = 150\n            if (typeof(width) == \"number\") width += \"px\"\n            if (typeof(height) == \"number\") height += \"px\"\n            if (typeof(width) == \"string\"){\n                if(!cssCheck(width)) width += \"px\"\n            }\n            if (typeof(height) == \"string\"){\n                if(!cssCheck(height)) height += \"px\"\n            }\n            if (typeof(x) == \"number\") x += \"px\"\n            if (typeof(y) == \"number\") y += \"px\"\n            if (typeof(x) == \"string\"){\n                if(!cssCheck(x)) x += \"px\"\n            }\n            if (typeof(y) == \"string\"){\n                if(!cssCheck(y)) y += \"px\"\n            }\n            if (anchor == \"\") anchor = \"topleft\"\n            anchor = anchor.toLowerCase()\n            styleOverride=document.createElement('style')\n            styleOverride.innerHTML=`\n                #htmlframe$customVariable[webId]{\n                    ${anchor.includes(\"top\") ? `top: ${y};` : \"\"}\n                    ${anchor.includes(\"bottom\") ? `bottom: ${y};` : \"\"}\n                    ${anchor.includes(\"middle\") ? `top: calc(50% - calc(calc(${height} / 2) - calc(${y} / 2)));` : \"\"}\n                    ${anchor.includes(\"left\") ? `left: ${x};` : \"\"}\n                    ${anchor.includes(\"right\") ? `right: ${x};` : \"\"}\n                    ${anchor.includes(\"center\") ? `left: calc(50% - calc(calc(${width} / 2) - calc(${x} / 2)));` : \"\"}\n                }\n            `\n            styleOverride.innerHTML = removeEmptyLines(styleOverride.innerHTML)\n            htmlframe.appendChild(styleOverride);\n        }\n        setFrameStyles(\"$encodeForHtml[$presetListArg[X]]\", \"$encodeForHtml[$presetListArg[Y]]\" , \"$encodeForHtml[$presetListArg[Anchor]]\", \"$encodeForHtml[$presetListArg[Width]]\", \"$encodeForHtml[$presetListArg[Height]]\")\n    </script>\n</div>\n\n","length":"$presetListArg[Duration]","removal":"frame$customVariable[webId]"}],"id":"e6e58310-4ea7-11ee-ab05-6bef8d8a3fa5"},"args":[{"name":"URL"},{"name":"URLParams"},{"name":"Width"},{"name":"Height"},{"name":"Anchor"},{"name":"X"},{"name":"Y"},{"name":"Duration"}],"sortTags":[],"id":"e6e534f0-4ea7-11ee-ab05-6bef8d8a3fa5"}],"timers":[],"viewerRoles":[],"quickActions":[]},"requireCurrency":false,"importQuestions":[]}